no.seasons %>%
ggplot(aes(Age, value)) +
geom_line(aes(colour = Legend.Label, linetype = Legend.Label)) +
scale_linetype_manual(name = "Time Frame", values = c("dashed", "solid"), size = 3) +
scale_colour_manual(name = "Time Frame", values = c("red", "darkblue"))
no.seasons %>%
ggplot(aes(Age, value)) +
geom_line(aes(colour = Legend.Label, linetype = Legend.Label, size = 3)) +
scale_linetype_manual(name = "Time Frame", values = c("dashed", "solid")) +
scale_colour_manual(name = "Time Frame", values = c("red", "darkblue"))
no.seasons %>%
ggplot(aes(Age, value)) +
geom_line(aes(colour = Legend.Label, linetype = Legend.Label, size = 1)) +
scale_linetype_manual(name = "Time Frame", values = c("dashed", "solid")) +
scale_colour_manual(name = "Time Frame", values = c("red", "darkblue"))
no.seasons %>%
ggplot(aes(Age, value)) +
geom_line(aes(colour = Legend.Label, linetype = Legend.Label), size = 2) +
scale_linetype_manual(name = "Time Frame", values = c("dashed", "solid")) +
scale_colour_manual(name = "Time Frame", values = c("red", "darkblue"))
no.seasons %>%
ggplot(aes(Age, value)) +
geom_line(aes(colour = Legend.Label, linetype = Legend.Label), size = 1) +
scale_linetype_manual(name = "Time Frame", values = c("dashed", "solid")) +
scale_colour_manual(name = "Time Frame", values = c("red", "darkblue"))
no.seasons %>%
ggplot(aes(Age, value)) +
geom_line(aes(colour = Legend.Label, linetype = Legend.Label), size = .75) +
scale_linetype_manual(name = "Time Frame", values = c("dashed", "solid")) +
scale_colour_manual(name = "Time Frame", values = c("red", "darkblue"))
no.seasons %>%
ggplot(aes(Age, value)) +
geom_line(aes(colour = Legend.Label, linetype = Legend.Label)) +
scale_linetype_manual(name = "Time Frame", values = c("dashed", "solid")) +
scale_colour_manual(name = "Time Frame", values = c("red", "darkblue"))
no.seasons %>%
ggplot(aes(Age, value)) +
geom_line(aes(colour = Legend.Label, linetype = Legend.Label)) +
scale_linetype_manual(name = "Time Frame", values = c("dashed", "solid")) +
scale_colour_manual(name = "Time Frame", values = c("red", "darkblue")) +
theme(legend.text = element_text(size = 18),
legend.title = element_text(size = 28))
no.seasons %>%
ggplot(aes(Age, value)) +
geom_line(aes(colour = Legend.Label, linetype = Legend.Label)) +
scale_linetype_manual(name = "Time Frame", values = c("dashed", "solid")) +
scale_colour_manual(name = "Time Frame", values = c("red", "darkblue")) +
theme(legend.text = element_text(size = 15),
legend.title = element_text(size = 23))
no.seasons %>%
ggplot(aes(Age, value)) +
geom_line(aes(colour = Legend.Label, linetype = Legend.Label)) +
scale_linetype_manual(name = "Time Frame", values = c("dashed", "solid")) +
scale_colour_manual(name = "Time Frame", values = c("red", "darkblue")) +
theme(legend.text = element_text(size = 15),
legend.title = element_text(size = 23),
legend.key.size = unit(2, "cm"))
no.seasons %>%
ggplot(aes(Age, value)) +
geom_line(aes(colour = Legend.Label, linetype = Legend.Label)) +
scale_linetype_manual(name = "Time Frame", values = c("dashed", "solid")) +
scale_colour_manual(name = "Time Frame", values = c("red", "darkblue")) +
theme(legend.text = element_text(size = 15),
legend.title = element_text(size = 23),
legend.key.size = unit(1.5, "cm"))
no.seasons %>%
ggplot(aes(Age, value)) +
geom_line(aes(colour = Legend.Label, linetype = Legend.Label), size = 2) +
scale_linetype_manual(name = "Time Frame", values = c("dashed", "solid")) +
scale_colour_manual(name = "Time Frame", values = c("red", "darkblue")) +
theme(legend.text = element_text(size = 15),
legend.title = element_text(size = 23),
legend.key.size = unit(1.5, "cm"))
no.seasons %>%
ggplot(aes(Age, value)) +
geom_line(aes(colour = Legend.Label, linetype = Legend.Label), size = 1.5) +
scale_linetype_manual(name = "Time Frame", values = c("dashed", "solid")) +
scale_colour_manual(name = "Time Frame", values = c("red", "darkblue")) +
theme(legend.text = element_text(size = 15),
legend.title = element_text(size = 23),
legend.key.size = unit(1.5, "cm"))
no.seasons %>%
ggplot(aes(Age, value)) +
geom_line(aes(colour = Legend.Label, linetype = Legend.Label), size = 1.3) +
scale_linetype_manual(name = "Time Frame", values = c("dashed", "solid")) +
scale_colour_manual(name = "Time Frame", values = c("red", "darkblue")) +
theme(legend.text = element_text(size = 15),
legend.title = element_text(size = 23),
legend.key.size = unit(1.5, "cm"))
no.seasons %>%
ggplot(aes(Age, value)) +
geom_line(aes(colour = Legend.Label, linetype = Legend.Label), size = 1) +
scale_linetype_manual(name = "Time Frame", values = c("dashed", "solid")) +
scale_colour_manual(name = "Time Frame", values = c("red", "darkblue")) +
theme(legend.text = element_text(size = 15),
legend.title = element_text(size = 23),
legend.key.size = unit(1.5, "cm"))
no.seasons %>%
ggplot(aes(Age, value)) +
geom_line(aes(colour = Legend.Label, linetype = Legend.Label), size = 1.2) +
scale_linetype_manual(name = "Time Frame", values = c("dashed", "solid")) +
scale_colour_manual(name = "Time Frame", values = c("red", "darkblue")) +
theme(legend.text = element_text(size = 15),
legend.title = element_text(size = 23),
legend.key.size = unit(1.5, "cm"))
no.seasons %>%
ggplot(aes(Age, value)) +
geom_line(aes(colour = Legend.Label, linetype = Legend.Label), size = 1.1) +
scale_linetype_manual(name = "Time Frame", values = c("dashed", "solid")) +
scale_colour_manual(name = "Time Frame", values = c("red", "darkblue")) +
theme(legend.text = element_text(size = 15),
legend.title = element_text(size = 23),
legend.key.size = unit(1.5, "cm"))
no.seasons %>%
ggplot(aes(Age, value)) +
geom_line(aes(colour = Legend.Label, linetype = Legend.Label)) +
scale_linetype_manual(name = "Time Frame", values = c("dashed", "solid")) +
scale_colour_manual(name = "Time Frame", values = c("red", "darkblue")) +
theme(legend.text = element_text(size = 15),
legend.title = element_text(size = 23),
legend.key.size = unit(1.5, "cm"))
no.seasons %>%
ggplot(aes(Age, value)) +
geom_line(aes(colour = Legend.Label, linetype = Legend.Label), size = 0.8) +
scale_linetype_manual(name = "Time Frame", values = c("dashed", "solid")) +
scale_colour_manual(name = "Time Frame", values = c("red", "darkblue")) +
theme(legend.text = element_text(size = 15),
legend.title = element_text(size = 23),
legend.key.size = unit(1.5, "cm"))
no.seasons %>%
ggplot(aes(Age, value)) +
geom_line(aes(colour = Legend.Label, linetype = Legend.Label), size = 0.9) +
scale_linetype_manual(name = "Time Frame", values = c("dashed", "solid")) +
scale_colour_manual(name = "Time Frame", values = c("red", "darkblue")) +
theme(legend.text = element_text(size = 15),
legend.title = element_text(size = 23),
legend.key.size = unit(1.5, "cm"))
no.seasons %>%
ggplot(aes(Age, value)) +
geom_line(aes(colour = Legend.Label, linetype = Legend.Label), size = 0.9) +
scale_linetype_manual(name = "Season", values = c("dashed", "solid")) +
scale_colour_manual(name = "Season", values = c("red", "darkblue")) +
theme(legend.text = element_text(size = 15),
legend.title = element_text(size = 23),
legend.key.size = unit(1.5, "cm"))
no.seasons %>%
ggplot(aes(Age, value)) +
geom_line(aes(colour = Legend.Label, linetype = Legend.Label), size = 0.9) +
scale_linetype_manual(name = "Time Frame", values = c("dashed", "solid")) +
scale_colour_manual(name = "Time Frame", values = c("red", "darkblue")) +
theme(legend.text = element_text(size = 15),
legend.title = element_text(size = 23),
legend.key.size = unit(1.5, "cm"))
no.seasons.legend <- get_legend(no.seasons)
no.seasons.plot <- no.seasons %>%
ggplot(aes(Age, value)) +
geom_line(aes(colour = Legend.Label, linetype = Legend.Label), size = 0.9) +
scale_linetype_manual(name = "Time Frame", values = c("dashed", "solid")) +
scale_colour_manual(name = "Time Frame", values = c("red", "darkblue")) +
theme(legend.text = element_text(size = 15),
legend.title = element_text(size = 23),
legend.key.size = unit(1.5, "cm"))
no.seasons.legend <- get_legend(no.seasons.plot)
View(no.seasons.legend)
#Outer parentheses are a trick for plotting data from two different data sources on the same graph
(N2.combo <- ggplot(data = melted.N2) +
geom_smooth(aes(Age, value), method = "lm", formula = quad.formula, se = F,
colour = "darkblue") +
geom_point(aes(Age, value), size = 2) +
geom_smooth(data = summer.N2, aes(Age, value),
method = "lm", formula = quad.formula, se = F,
colour = "red", size = 0.7, linetype = "longdash") +
geom_hline(yintercept = 0, size = 0.2, colour = "grey23") +
geom_vline(xintercept = 0, size = 0.2, colour = "grey23") +
theme(panel.background = element_rect(fill = "white", colour = NA),
axis.title.x = element_text(margin = margin(t = 15), size = 27),
axis.title.y = element_text(margin = margin(r = 20), size = 27),
axis.line.x = element_line(colour = "black", size = 0.8),
axis.line.y = element_line(colour = "black", size = 0.8),
panel.grid.major = element_blank(),
axis.text.x = element_text(size = 18, colour = "black"),
axis.text.y = element_text(size = 18, colour = "black")) +
xlab("Restored age (years)") +
ylab(expression(paste(N[2], " flux (", mu, "mol N ", m^-2, " ", h^-1, ")"))) +
scale_y_continuous(breaks = seq(-20, 120, 20)) +
coord_cartesian(ylim = c(-20, 120))
)
melted.SOD <- melted.all[melted.all$variable == "SOD", ]
View(melted.SOD)
rownames(melted.SOD) <- NULL
RT.SOD <- ggplot(melted.SOD, aes(Age, value)) +
geom_point(size = 2) +
geom_smooth(method = "lm", formula = quad.formula, se = F, size = 0.7)
RT.SOD
RT.SOD <- ggplot(melted.SOD, aes(Age, value)) +
geom_point(size = 2) +
geom_smooth(method = "lm", formula = quad.formula, se = F, size = 0.7) +
geom_hline(yintercept = 0, size = 0.2, colour = "grey23") +
geom_vline(xintercept = 0, size = 0.2, colour = "grey23") +
theme(panel.background = element_rect(fill = "grey96", colour = NA),
axis.title.x = element_blank(),
axis.title.y = element_text(margin = margin(r = 20), size = 15),
axis.line.y = element_line(colour = "black", size = 0.8),
panel.grid.major = element_line(colour = "grey70", size = 0.25),
axis.text.x = element_blank(),
axis.text.y = element_text(size = 12, colour = "black"),
legend.position = "none") +
coord_cartesian(xlim = c(0, 20)) +
ylab(expression(paste("SOD (", mu, "mol ", O[2], " ", m^-2, " ", h^-1, ")")))
RT.SOD
RT.SOD <- ggplot(melted.SOD, aes(Age, value)) +
geom_point(size = 2) +
geom_smooth(method = "lm", formula = quad.formula, se = F, size = 0.7) +
geom_hline(yintercept = 0, size = 0.2, colour = "grey23") +
geom_vline(xintercept = 0, size = 0.2, colour = "grey23") +
theme(panel.background = element_rect(fill = "grey96", colour = NA),
axis.title.x = element_blank(),
axis.title.y = element_text(margin = margin(r = 20), size = 15),
axis.line.y = element_line(colour = "black", size = 0.8),
panel.grid.major = element_blank(),
axis.text.x = element_blank(),
axis.text.y = element_text(size = 12, colour = "black"),
legend.position = "none") +
coord_cartesian(xlim = c(0, 20)) +
ylab(expression(paste("SOD (", mu, "mol ", O[2], " ", m^-2, " ", h^-1, ")")))
ggplot(melted.SOD, aes(Age, value)) +
geom_point(size = 2) +
geom_smooth(method = "lm", formula = quad.formula, se = F, size = 0.7) +
geom_hline(yintercept = 0, size = 0.2, colour = "grey23") +
geom_vline(xintercept = 0, size = 0.2, colour = "grey23") +
theme(panel.background = element_rect(fill = "grey96", colour = NA),
axis.title.x = element_blank(),
axis.title.y = element_text(margin = margin(r = 20), size = 15),
axis.line.y = element_line(colour = "black", size = 0.8),
panel.grid.major = element_blank(),
axis.text.x = element_blank(),
axis.text.y = element_text(size = 12, colour = "black"),
legend.position = "none") +
coord_cartesian(xlim = c(0, 20)) +
ylab(expression(paste("SOD (", mu, "mol ", O[2], " ", m^-2, " ", h^-1, ")")))
ggplot(melted.SOD, aes(Age, value)) +
geom_point(size = 2) +
geom_smooth(method = "lm", formula = quad.formula, se = F, size = 0.7) +
geom_hline(yintercept = 0, size = 0.2, colour = "grey23") +
geom_vline(xintercept = 0, size = 0.2, colour = "grey23") +
theme(panel.background = element_rect(fill = "white", colour = NA),
axis.title.x = element_blank(),
axis.title.y = element_text(margin = margin(r = 20), size = 15),
axis.line.y = element_line(colour = "black", size = 0.8),
panel.grid.major = element_blank(),
axis.text.x = element_blank(),
axis.text.y = element_text(size = 12, colour = "black"),
legend.position = "none") +
coord_cartesian(xlim = c(0, 20)) +
ylab(expression(paste("SOD (", mu, "mol ", O[2], " ", m^-2, " ", h^-1, ")")))
ggplot(melted.SOD, aes(Age, value)) +
geom_point(size = 2) +
geom_smooth(method = "lm", formula = quad.formula, se = F, size = 0.7) +
geom_hline(yintercept = 0, size = 0.2, colour = "grey23") +
geom_vline(xintercept = 0, size = 0.2, colour = "grey23") +
theme(panel.background = element_rect(fill = "white", colour = NA),
axis.title.x = element_blank(),
axis.title.y = element_text(margin = margin(r = 20), size = 27),
axis.line.y = element_line(colour = "black", size = 0.8),
panel.grid.major = element_blank(),
axis.text.x = element_blank(),
axis.text.y = element_text(size = 18, colour = "black"),
legend.position = "none") +
#coord_cartesian(xlim = c(0, 20)) +
ylab(expression(paste("SOD (", mu, "mol ", O[2], " ", m^-2, " ", h^-1, ")")))
ggplot(melted.SOD, aes(Age, value)) +
geom_point(size = 2) +
geom_smooth(method = "lm", formula = quad.formula, se = F, size = 0.7) +
geom_hline(yintercept = 0, size = 0.2, colour = "grey23") +
geom_vline(xintercept = 0, size = 0.2, colour = "grey23") +
theme(panel.background = element_rect(fill = "white", colour = NA),
axis.title.x = element_blank(),
axis.title.y = element_text(margin = margin(r = 20), size = 27),
axis.line.y = element_line(colour = "black", size = 0.8),
panel.grid.major = element_blank(),
axis.text.x = element_blank(),
axis.text.y = element_text(size = 18, colour = "black"),
legend.position = "none") +
coord_cartesian(xlim = c(0, 20)) +
ylab(expression(paste("SOD (", mu, "mol ", O[2], " ", m^-2, " ", h^-1, ")")))
ggplot(melted.SOD, aes(Age, value)) +
geom_point(size = 2) +
geom_smooth(method = "lm", formula = quad.formula, se = F, size = 0.7) +
geom_hline(yintercept = 0, size = 0.2, colour = "grey23") +
geom_vline(xintercept = 0, size = 0.2, colour = "grey23") +
theme(panel.background = element_rect(fill = "white", colour = NA),
axis.title.x = element_blank(),
axis.title.y = element_text(margin = margin(r = 20), size = 27),
axis.line.y = element_line(colour = "black", size = 0.8),
panel.grid.major = element_blank(),
axis.text.x = element_blank(),
axis.text.y = element_text(size = 18, colour = "black")) +
ylab(expression(paste("SOD (", mu, "mol ", O[2], " ", m^-2, " ", h^-1, ")")))
ggplot(melted.SOD, aes(Age, value)) +
geom_point(size = 2) +
geom_smooth(method = "lm", formula = quad.formula, se = F, size = 1) +
geom_hline(yintercept = 0, size = 0.2, colour = "grey23") +
geom_vline(xintercept = 0, size = 0.2, colour = "grey23") +
theme(panel.background = element_rect(fill = "white", colour = NA),
axis.title.x = element_blank(),
axis.title.y = element_text(margin = margin(r = 20), size = 27),
axis.line.y = element_line(colour = "black", size = 0.8),
panel.grid.major = element_blank(),
axis.text.x = element_blank(),
axis.text.y = element_text(size = 18, colour = "black")) +
ylab(expression(paste("SOD (", mu, "mol ", O[2], " ", m^-2, " ", h^-1, ")")))
ggplot(data = melted.N2) +
geom_smooth(aes(Age, value), method = "lm", formula = quad.formula, se = F,
colour = "darkblue") +
geom_point(aes(Age, value), size = 2) +
geom_smooth(data = summer.N2, aes(Age, value),
method = "lm", formula = quad.formula, se = F,
colour = "red", size = 0.7, linetype = "longdash") +
geom_hline(yintercept = 0, size = 0.2, colour = "grey23") +
geom_vline(xintercept = 0, size = 0.2, colour = "grey23") +
theme(panel.background = element_rect(fill = "white", colour = NA),
axis.title.x = element_text(margin = margin(t = 15), size = 27),
axis.title.y = element_text(margin = margin(r = 20), size = 27),
axis.line.x = element_line(colour = "black", size = 0.8),
axis.line.y = element_line(colour = "black", size = 0.8),
panel.grid.major = element_blank(),
axis.text.x = element_text(size = 18, colour = "black"),
axis.text.y = element_text(size = 18, colour = "black")) +
xlab("Restored age (years)") +
ylab(expression(paste(N[2], " flux (", mu, "mol N ", m^-2, " ", h^-1, ")"))) +
scale_y_continuous(breaks = seq(-20, 120, 20)) +
coord_cartesian(ylim = c(-20, 120))
ggplot(data = melted.N2) +
geom_smooth(aes(Age, value), method = "lm", formula = quad.formula, se = F,
colour = "darkblue", size = 1.5) +
geom_point(aes(Age, value), size = 2) +
geom_smooth(data = summer.N2, aes(Age, value),
method = "lm", formula = quad.formula, se = F,
colour = "red", size = 0.7, linetype = "longdash") +
geom_hline(yintercept = 0, size = 0.2, colour = "grey23") +
geom_vline(xintercept = 0, size = 0.2, colour = "grey23") +
theme(panel.background = element_rect(fill = "white", colour = NA),
axis.title.x = element_text(margin = margin(t = 15), size = 27),
axis.title.y = element_text(margin = margin(r = 20), size = 27),
axis.line.x = element_line(colour = "black", size = 0.8),
axis.line.y = element_line(colour = "black", size = 0.8),
panel.grid.major = element_blank(),
axis.text.x = element_text(size = 18, colour = "black"),
axis.text.y = element_text(size = 18, colour = "black")) +
xlab("Restored age (years)") +
ylab(expression(paste(N[2], " flux (", mu, "mol N ", m^-2, " ", h^-1, ")"))) +
scale_y_continuous(breaks = seq(-20, 120, 20)) +
coord_cartesian(ylim = c(-20, 120))
ggplot(data = melted.N2) +
geom_smooth(aes(Age, value), method = "lm", formula = quad.formula, se = F,
colour = "darkblue", size = 1.3) +
geom_point(aes(Age, value), size = 2) +
geom_smooth(data = summer.N2, aes(Age, value),
method = "lm", formula = quad.formula, se = F,
colour = "red", size = 1.3, linetype = "longdash") +
geom_hline(yintercept = 0, size = 0.2, colour = "grey23") +
geom_vline(xintercept = 0, size = 0.2, colour = "grey23") +
theme(panel.background = element_rect(fill = "white", colour = NA),
axis.title.x = element_text(margin = margin(t = 15), size = 27),
axis.title.y = element_text(margin = margin(r = 20), size = 27),
axis.line.x = element_line(colour = "black", size = 0.8),
axis.line.y = element_line(colour = "black", size = 0.8),
panel.grid.major = element_blank(),
axis.text.x = element_text(size = 18, colour = "black"),
axis.text.y = element_text(size = 18, colour = "black")) +
xlab("Restored age (years)") +
ylab(expression(paste(N[2], " flux (", mu, "mol N ", m^-2, " ", h^-1, ")"))) +
scale_y_continuous(breaks = seq(-20, 120, 20)) +
coord_cartesian(ylim = c(-20, 120))
ggplot(melted.SOD, aes(Age, value)) +
geom_point(size = 2) +
geom_smooth(method = "lm", formula = quad.formula, se = F, size = 1.3) +
geom_hline(yintercept = 0, size = 0.2, colour = "grey23") +
geom_vline(xintercept = 0, size = 0.2, colour = "grey23") +
theme(panel.background = element_rect(fill = "white", colour = NA),
axis.title.x = element_blank(),
axis.title.y = element_text(margin = margin(r = 20), size = 27),
axis.line.y = element_line(colour = "black", size = 0.8),
panel.grid.major = element_blank(),
axis.text.x = element_blank(),
axis.text.y = element_text(size = 18, colour = "black")) +
ylab(expression(paste("SOD (", mu, "mol ", O[2], " ", m^-2, " ", h^-1, ")")))
ggplot(melted.SOD, aes(Age, value)) +
geom_point(size = 2) +
geom_smooth(method = "lm", formula = quad.formula, se = F,
colour = "darkblue", size = 1.3) +
geom_hline(yintercept = 0, size = 0.2, colour = "grey23") +
geom_vline(xintercept = 0, size = 0.2, colour = "grey23") +
theme(panel.background = element_rect(fill = "white", colour = NA),
axis.title.x = element_blank(),
axis.title.y = element_text(margin = margin(r = 20), size = 27),
axis.line.y = element_line(colour = "black", size = 0.8),
panel.grid.major = element_blank(),
axis.text.x = element_blank(),
axis.text.y = element_text(size = 18, colour = "black")) +
ylab(expression(paste("SOD (", mu, "mol ", O[2], " ", m^-2, " ", h^-1, ")")))
RT.SOD <- ggplot(melted.SOD, aes(Age, value)) +
geom_point(size = 2) +
geom_smooth(method = "lm", formula = quad.formula, se = F,
colour = "darkblue", size = 1.3) +
geom_hline(yintercept = 0, size = 0.2, colour = "grey23") +
geom_vline(xintercept = 0, size = 0.2, colour = "grey23") +
theme(panel.background = element_rect(fill = "white", colour = NA),
axis.title.x = element_blank(),
axis.title.y = element_text(margin = margin(r = 20), size = 27),
axis.line.y = element_line(colour = "black", size = 0.8),
panel.grid.major = element_blank(),
axis.text.x = element_blank(),
axis.text.y = element_text(size = 18, colour = "black")) +
ylab(expression(paste("SOD (", mu, "mol ", O[2], " ", m^-2, " ", h^-1, ")")))
(p12.N2 <- ggplot(data = melted.N2) +
geom_smooth(aes(Age, value), method = "lm", formula = quad.formula, se = F,
colour = "darkblue", size = 1.3) +
geom_point(aes(Age, value), size = 2) +
geom_smooth(data = summer.N2, aes(Age, value),
method = "lm", formula = quad.formula, se = F,
colour = "red", size = 1.3, linetype = "longdash") +
geom_hline(yintercept = 0, size = 0.2, colour = "grey23") +
geom_vline(xintercept = 0, size = 0.2, colour = "grey23") +
theme(panel.background = element_rect(fill = "white", colour = NA),
axis.title.x = element_text(margin = margin(t = 15), size = 27),
axis.title.y = element_text(margin = margin(r = 20), size = 27),
axis.line.x = element_line(colour = "black", size = 0.8),
axis.line.y = element_line(colour = "black", size = 0.8),
panel.grid.major = element_blank(),
axis.text.x = element_text(size = 18, colour = "black"),
axis.text.y = element_text(size = 18, colour = "black")) +
xlab("Restored age (years)") +
ylab(expression(paste(N[2], " flux (", mu, "mol N ", m^-2, " ", h^-1, ")"))) +
scale_y_continuous(breaks = seq(-20, 120, 20)) +
coord_cartesian(ylim = c(-20, 120))
)
p13.SOD <- ggplot(melted.SOD, aes(Age, value)) +
geom_point(size = 2) +
geom_smooth(method = "lm", formula = quad.formula, se = F,
colour = "darkblue", size = 1.3) +
geom_hline(yintercept = 0, size = 0.2, colour = "grey23") +
geom_vline(xintercept = 0, size = 0.2, colour = "grey23") +
theme(panel.background = element_rect(fill = "white", colour = NA),
axis.title.x = element_blank(),
axis.title.y = element_text(margin = margin(r = 20), size = 27),
axis.line.y = element_line(colour = "black", size = 0.8),
panel.grid.major = element_blank(),
axis.text.x = element_blank(),
axis.text.y = element_text(size = 18, colour = "black")) +
ylab(expression(paste("SOD (", mu, "mol ", O[2], " ", m^-2, " ", h^-1, ")")))
g12 <- ggplotGrob(p12.N2)
g13 <- ggplotGrob(p13.SOD)
bind.12.13 <- rbind(g12, g13, size = "first")
bind.12.13$widths <- unit.pmax(g12$widths, g13$widths)
bind.12.13.legend <- get_legend(no.seasons.plot)
bind.12.13.legend <- gtable_filter(ggplotGrob(no.seasons.plot), "guide-box")
grid.newpage()
grid.arrange(bind.12.13, bind.12.13.legend, ncol = 2, widths = c(9, 1.5))
bind.12.13 <- rbind(g13, g12, size = "first")
#This assigns the sizes of the above rbind result to the maximum width of any of the grobs (I think)
bind.12.13$widths <- unit.pmax(g12$widths, g13$widths)
#Create a separate legend by extracting the legend from the plot created just for a legend. This was necessary because I wanted to make the legend text larger, and couldn't figure out how to do that in one of the 4 regular plots without turning on the legend, which would mess up the alignment.
bind.12.13.legend <- get_legend(no.seasons.plot)
bind.12.13.legend <- gtable_filter(ggplotGrob(no.seasons.plot), "guide-box")
#Prepare to export the final graph
grid.newpage()
grid.arrange(bind.12.13, bind.12.13.legend, ncol = 2, widths = c(9, 1.5))
(p12.N2 <- ggplot(data = melted.N2) +
geom_smooth(aes(Age, value), method = "lm", formula = quad.formula, se = F,
colour = "darkblue", size = 1.3) +
geom_point(aes(Age, value), size = 2) +
geom_smooth(data = summer.N2, aes(Age, value),
method = "lm", formula = quad.formula, se = F,
colour = "red", size = 1.3, linetype = "longdash") +
geom_hline(yintercept = 0, size = 0.2, colour = "grey23") +
geom_vline(xintercept = 0, size = 0.2, colour = "grey23") +
theme(panel.background = element_rect(fill = "white", colour = NA),
axis.title.x = element_text(margin = margin(t = 15), size = 27),
axis.title.y = element_text(margin = margin(r = 20), size = 20),
axis.line.x = element_line(colour = "black", size = 0.8),
axis.line.y = element_line(colour = "black", size = 0.8),
panel.grid.major = element_blank(),
axis.text.x = element_text(size = 18, colour = "black"),
axis.text.y = element_text(size = 18, colour = "black")) +
xlab("Restored age (years)") +
ylab(expression(paste(N[2], " flux (", mu, "mol N ", m^-2, " ", h^-1, ")"))) +
scale_y_continuous(breaks = seq(-20, 120, 20)) +
coord_cartesian(ylim = c(-20, 120))
)
p13.SOD <- ggplot(melted.SOD, aes(Age, value)) +
geom_point(size = 2) +
geom_smooth(method = "lm", formula = quad.formula, se = F,
colour = "darkblue", size = 1.3) +
geom_hline(yintercept = 0, size = 0.2, colour = "grey23") +
geom_vline(xintercept = 0, size = 0.2, colour = "grey23") +
theme(panel.background = element_rect(fill = "white", colour = NA),
axis.title.x = element_blank(),
axis.title.y = element_text(margin = margin(r = 20), size = 20),
axis.line.y = element_line(colour = "black", size = 0.8),
panel.grid.major = element_blank(),
axis.text.x = element_blank(),
axis.text.y = element_text(size = 18, colour = "black")) +
ylab(expression(paste("SOD (", mu, "mol ", O[2], " ", m^-2, " ", h^-1, ")")))
g12 <- ggplotGrob(p12.N2)
g13 <- ggplotGrob(p13.SOD)
#Bind together the 4 plots using rbind. This will ensure that all the axes line up. Super important! Otherwise, things get wonky when g.arrange is used.
#Note that the numerical order is off b/c N2 needs to be at the bottom.
bind.12.13 <- rbind(g13, g12, size = "first")
bind.12.13$widths <- unit.pmax(g12$widths, g13$widths)
grid.newpage()
grid.arrange(bind.12.13, bind.12.13.legend, ncol = 2, widths = c(9, 1.5))
