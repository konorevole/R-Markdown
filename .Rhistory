setwd("E:/R Markdown")
library("plyr")
library("dplyr")
source("functions.R")
inund <- read.csv("E:\\R Markdown\\Inundation\\raw\\inundation-raw_all-sites_all-seasons.csv", header = T, stringsAsFactors = F)
inund <- add.age(inund)
inund$Age <- as.numeric(inund$Age)
inund <- add.habitat(inund)
inund$Season <- factor(inund$Season, levels = c("Summer", "Fall", "Winter", "Spring", "Summer15"))
inund$CoreName <- factor(inund$CoreName, levels = c("LO", "HO", "LM", "MM", "HM", "Ref"))
inund$Site <- factor(inund$Site, levels = c("IMS", "Carrot", "NOAA", "Army"))
inund$Habitat <- factor(inund$Habitat, levels = c("oyster", "marsh", "Ref"))
View(inund)
annual.inund <- ddply(inund, c("Site", "CoreName"), summarise,
avg_PercInun = mean(Perc_Inun))
View(annual.inund)
annual.inund <- ddply(inund, c("Site", "CoreName"), summarise,
avg_PercInun = mean(Perc_Inun))
write.csv(annual.inund, "E:\\R Markdown\\Inundation\\clean\\inundation-by-type_annual-avg_all-sites.csv", row.names = F)
raw.LOI <- read.csv("LOI\\raw\\LOI-raw_with-summer15.csv", header = T, stringsAsFactors = F)
View(raw.LOI)
raw.LOI$Season <- factor(raw.LOI$Season, levels = c("Summer", "Fall", "Winter", "Spring", "Summer15"))
raw.LOI$Site <- factor(raw.LOI$Site, levels = c("IMS", "Carrot", "NOAA", "Army"))
raw.LOI$CoreName <- factor(raw.LOI$CoreName, levels = c("LO", "HO", "LM", "MM", "HM", "Ref", "LoRef", "HiRef"))
percentOM.calcs <- mutate(raw.LOI, PercentOM = (((DryWeight - CombustWeight)/DryWeight)*100))
clean.LOI <- subset(percentOM.calcs, select = c("Season", "Site", "CoreName", "CoreNo", "PercentOM"))
clean.LOI <- add.age(clean.LOI)
clean.LOI$Age <- as.numeric(clean.LOI$Age)
clean.LOI <- add.habitat(clean.LOI)
clean.LOI$Habitat <- factor(clean.LOI$Habitat, levels = c("oyster", "marsh", "Ref"))
View(percentOM.calcs)
View(clean.LOI)
str(clean.LOI)
View(clean.LOI)
type.LOI <- ddply(clean.LOI, c("Season", "Site", "CoreName"), summarise,
avg_PercentOM = mean(PercentOM))
View(type.LOI)
View(type.LOI)
annual.LOI <- ddply(type.LOI, c("Site", "CoreName"), summarise,
annual_PercentOM = mean(avg_PercentOM))
View(annual.LOI)
str(annual.LOI)
write.csv(clean.LOI, "LOI\\clean\\LOI-clean_with-summer15.csv", row.names = F)
write.csv(type.LOI, "E:\\R Markdown\\LOI\\clean\\LOI-by-type_all-seasons_all-sites.csv", row.names = F)
write.csv(annual.LOI, "E:\\R Markdown\\LOI\\clean\\LOI-by-type_annual-avg_all-sites.csv", row.names = F)
SOD.raw <- read.csv("E:\\R Markdown\\SOD\\raw\\SOD-raw_all-seasons_all-sites.csv", header = T, stringsAsFactors = F)
View(SOD.raw)
SOD.raw <- na.omit(SOD.raw)
SOD.raw <- SOD.raw[ which(SOD.raw$Season != "Spring" | SOD.raw$Site != "NOAA" | SOD.raw$TimePt != "1"), ]
SOD.raw$Season <- factor(SOD.raw$Season, levels = c("Summer", "Fall", "Winter", "Spring", "Summer15"))
SOD.raw$CoreName <- factor(SOD.raw$CoreName, levels = c("LO", "HO", "LM", "MM", "HM", "Ref", "LoRef", "HiRef"))
SOD.raw$Site <- factor(SOD.raw$Site, levels = c("IMS", "Carrot", "NOAA", "Army"))
SOD <- mutate(SOD.raw,
core.SOD = O2Flux * -1)
core.SOD <- ddply(SOD, c("Season", "Site", "CoreName", "CoreNo"), summarise,
SOD = mean(core.SOD))
core.SOD <- add.age(core.SOD)
core.SOD$Age <- as.numeric(core.SOD$Age)
core.SOD <- add.habitat(core.SOD)
core.SOD$Habitat <- factor(core.SOD$Habitat, levels = c("oyster", "marsh", "Ref", "LoRef", "HiRef"))
View(SOD)
View(core.SOD)
type.SOD <- ddply(core.SOD, c("Season", "Site", "CoreName"), summarise,
avg_SOD = mean(SOD))
View(type.SOD)
annual.SOD <- ddply(type.SOD, c("Site", "CoreName"), summarise,
annual_SOD = mean(avg_SOD))
View(annual.SOD)
View(core.SOD)
write.csv(annual.SOD, "E:\\R Markdown\\SOD\\clean\\SOD-by-type_annual-avg_all-sites.csv", row.names = F)
raw.O2concs <- read.csv("O2-conc\\raw\\O2-conc-raw_with-summer15.csv", header = T, stringsAsFactors = F)
View(raw.O2concs)
raw.O2concs <- na.omit(raw.O2concs)
raw.O2concs <- raw.O2concs[ which(raw.O2concs$Season != "Spring" | raw.O2concs$Site != "NOAA" | raw.O2concs$TimePt != "1"), ]
raw.O2concs$Season <- factor(raw.O2concs$Season, levels = c("Summer", "Fall", "Winter", "Spring", "Summer15"))
raw.O2concs$CoreName <- factor(raw.O2concs$CoreName, levels = c("LO", "HO", "LM", "MM", "HM", "Ref", "LoRef", "HiRef"))
raw.O2concs$Site <- factor(raw.O2concs$Site, levels = c("IMS", "Carrot", "NOAA", "Army"))
core.O2conc <- ddply(raw.O2concs, c("Season", "Site", "CoreName", "CoreNo"), summarise,
O2conc = mean(conc_O2))
core.O2conc <- add.age(core.O2conc)
core.O2conc$Age <- as.numeric(core.O2conc$Age)
core.O2conc <- add.habitat(core.O2conc)
View(core.O2conc)
write.csv(core.O2conc, "E:\\R Markdown\\O2-conc\\clean\\O2-conc-by-core_with-summer15.csv", row.names = F)
type.O2conc <- ddply(core.O2conc, c("Season", "Site", "CoreName"), summarise,
avg_O2conc = mean(O2conc))
View(type.O2conc)
write.csv(type.O2conc, "E:\\R Markdown\\O2-conc\\clean\\O2-conc-by-type_all-seasons_all-sites.csv", row.names = F)
annual.O2conc <- ddply(type.O2conc, c("Site", "CoreName"), summarise,
annual_O2conc = mean(avg_O2conc))
View(annual.O2conc)
write.csv(annual.O2conc, "E:\\R Markdown\\O2-conc\\clean\\O2-conc-by-type_annual-avg_all-sites.csv", row.names = F)
View(core.O2conc)
core.O2conc <- ddply(raw.O2concs, c("Season", "Site", "CoreName", "CoreNo"), summarise,
O2conc = mean(conc_O2))
core.O2conc <- add.age(core.O2conc)
core.O2conc$Age <- as.numeric(core.O2conc$Age)
core.O2conc <- add.habitat(core.O2conc)
core.O2conc$Habitat <- factor(core.O2conc$Habitat, levels = c("oyster", "marsh", "Ref", "LoRef", "HiRef"))
str(core.O2conc)
View(core.O2conc)
write.csv(core.O2conc, "E:\\R Markdown\\O2-conc\\clean\\O2-conc-by-core_with-summer15.csv", row.names = F)
type.O2conc <- ddply(core.O2conc, c("Season", "Site", "CoreName"), summarise,
avg_O2conc = mean(O2conc))
write.csv(type.O2conc, "E:\\R Markdown\\O2-conc\\clean\\O2-conc-by-type_all-seasons_all-sites.csv", row.names = F)
annual.O2conc <- ddply(type.O2conc, c("Site", "CoreName"), summarise,
annual_O2conc = mean(avg_O2conc))
write.csv(annual.O2conc, "E:\\R Markdown\\O2-conc\\clean\\O2-conc-by-type_annual-avg_all-sites.csv", row.names = F)
all.N2 <- read.csv("E:\\R Markdown\\N2-flux\\raw\\N2-flux_with-summer15.csv", header = T, stringsAsFactors = F)
View(all.N2)
all.N2 <- na.omit(all.N2)
all.N2 <- all.N2[ which(all.N2$Season != "Spring" | all.N2$Site != "NOAA" | all.N2$TimePt != "1"), ]
all.N2$Season <- factor(all.N2$Season, levels = c("Summer", "Fall", "Winter", "Spring", "Summer15"))
all.N2$CoreName <- factor(all.N2$CoreName, levels = c("LO", "HO", "LM", "MM", "HM", "Ref", "LoRef", "HiRef"))
all.N2$Site <- factor(all.N2$Site, levels = c("IMS", "Carrot", "NOAA", "Army"))
View(all.N2)
str(all.N2)
core.N2 <- ddply(all.N2, c("Season", "Site", "CoreName", "CoreNo"), summarise,
N2Flux = mean(N2Flux))
View(core.N2)
core.N2 <- add.age(core.N2)
core.N2$Age <- as.numeric(core.N2$Age)
core.N2 <- add.habitat(core.N2)
core.N2$Habitat <- factor(core.N2$Habitat, levels = c("oyster", "marsh", "ref"))
View(all.N2)
core.N2 <- ddply(all.N2, c("Season", "Site", "CoreName", "CoreNo"), summarise,
N2Flux = mean(N2Flux))
core.N2 <- add.age(core.N2)
core.N2$Age <- as.numeric(core.N2$Age)
core.N2 <- add.habitat(core.N2)
core.N2$Habitat <- factor(core.N2$Habitat, levels = c("oyster", "marsh", "Ref", "LoRef", "HiRef"))
View(core.N2)
str(core.N2)
type.N2 <- ddply(core.N2, c("Season", "Site", "CoreName"), summarise,
avg_N2Flux = mean(N2Flux))
View(type.N2)
str(type.N2)
annual_N2Flux = mean(avg_N2Flux))
annual.N2flux <- ddply(type.N2, c("Site", "CoreName"), summarise,
annual_N2Flux = mean(avg_N2Flux))
View(annual.N2flux)
write.csv(core.N2, "E:\\R Markdown\\N2-flux\\clean\\N2-flux-by-core_with-summer15.csv", row.names = F)
type.N2 <- ddply(core.N2, c("Season", "Site", "CoreName"), summarise,
avg_N2Flux = mean(N2Flux))
write.csv(type.N2, "E:\\R Markdown\\N2-flux\\clean\\N2-flux-by-type_all-seasons_all-sites.csv", row.names = F)
annual.N2flux <- ddply(type.N2, c("Site", "CoreName"), summarise,
annual_N2Flux = mean(avg_N2Flux))
write.csv(annual.N2flux, "E:\\R Markdown\\N2-flux\\clean\\N2-flux-by-type_annual-avg_all-sites.csv", row.names = F)
