chl.sandflat$Habitat <- factor(chl.sandflat$Habitat, levels = c("oyster", "marsh", "sandflat"))
str(chl.sandflat)
write.csv(chl.LoHiRef, "chlorophyll\\clean\\chl-clean-orig-habitats_all-seasons_all-sites.csv",
row.names = F)
write.csv(chl.sandflat, "chlorophyll\\clean\\chl-clean-noLoHi_all-seasons_all-sites.csv", row.names = F)
str(chl.LoHiRef)
ddply(chl.LoHiRef, c("Site", "CoreName"), summarise,
avg_chl = mean(chla_conc))
ddply(chl.LoHiRef, c("Season", "Site", "CoreName"), summarise,
avg_chl = mean(chla_conc))
setwd("E:/R Markdown")
knitr::opts_chunk$set(echo = TRUE)
chl-all <- read.csv("chlorophyll\clean\chl-clean-orig-habitats_all-seasons_all-sites.csv", header = T)
chl-all <- read.csv("chlorophyll\\clean\\chl-clean-orig-habitats_all-seasons_all-sites.csv", header = T)
chl-all <- read.csv("\\chlorophyll\\clean\\chl-clean-orig-habitats_all-seasons_all-sites.csv", header = T)
chl-all <- read.csv("chlorophyll/clean/chl-clean-orig-habitats_all-seasons_all-sites.csv", header = T)
chl-all <- read.csv("chlorophyll\clean\chl-clean-orig-habitats_all-seasons_all-sites.csv", header = T)
chl-all <- read.csv("\chlorophyll\clean\chl-clean-orig-habitats_all-seasons_all-sites.csv", header = T)
setwd("E:/R Markdown")
chl-all <- read.csv("chlorophyll\clean\chl-clean-orig-habitats_all-seasons_all-sites.csv", header = T)
chl-all <- read.csv("chlorophyll//clean//chl-clean-orig-habitats_all-seasons_all-sites.csv", header = T)
read.csv("chlorophyll//clean//chl-clean-orig-habitats_all-seasons_all-sites.csv", header = T)
read.csv("chlorophyll//clean//chl-clean-orig-habitats_all-seasons_all-sites.csv", header = T)
chl-all <- read.csv("chlorophyll//clean//chl-clean-orig-habitats_all-seasons_all-sites.csv", header = T)
chl.all <- read.csv("chlorophyll//clean//chl-clean-orig-habitats_all-seasons_all-sites.csv", header = T)
chl.noLoHi <- read.csv("chlorophyll//clean//chl-clean-noLoHi_all-seasons_all-sites.csv", header = T)
str(chl.all)
str(chl.noLoHi)
library(plyr)
library(dplyr)
library(ggplot2)
library(ggpmisc)
source("functions.R")
View(full.summary)
chl.all.avg <- full.summary(chl.all)
chl.all.avg <- ddply(chl.all, c("Season", "Site", "CoreName", summarise,
avg.chl = mean(chla_conc)
N = length(chla_conc),
stdev = sd(chla_conc),
SE = stdev / sqrt(N))
chl.all.avg <- ddply(chl.all, c("Season", "Site", "CoreName"), summarise,
avg.chl = mean(chla_conc)
N = length(chla_conc),
stdev = sd(chla_conc),
SE = stdev / sqrt(N))
chl.all.avg <- ddply(chl.all, c("Season", "Site", "CoreName"), summarise,
avg.chl = mean(chla_conc),
N = length(chla_conc),
stdev = sd(chla_conc),
SE = stdev / sqrt(N))
View(chl.all.avg)
View(set.factors)
View(set.factors)
chl.all <- set.factors(chl.all)
View(chl.all)
str(chl.all)
str(chl.noLoHi)
View(chl.noLoHi)
chl.noLoHi$Season <- factor(chl.noLoHi$Season, levels = c("Summer", "Fall", "Winter", "Spring", "Summer15"))
chl.noLoHi$Site <- factor(chl.noLoHi$Site, levels = c("IMS", "Carrot", "NOAA", "Army"))
chl.noLoHi$CoreName <- factor(chl.noLoHi$CoreName, levels = c("LO", "HO", "LM", "MM", "HM", "Ref"))
str(chl.noLoHi)
chl.all.avg <- ddply(chl.all, c("Season", "Site", "CoreName"), summarise,
avg.chl = mean(chla_conc),
N = length(chla_conc),
stdev = sd(chla_conc),
SE = stdev / sqrt(N))
View(chl.all.avg)
chl.basic <- read.csv("chlorophyll//clean//chl-clean-noLoHi_all-seasons_all-sites.csv", header = T)
chl.basic$Season <- factor(chl.basic$Season, levels = c("Summer", "Fall", "Winter", "Spring", "Summer15"))
chl.basic$Site <- factor(chl.basic$Site, levels = c("IMS", "Carrot", "NOAA", "Army"))
chl.basic$CoreName <- factor(chl.basic$CoreName, levels = c("LO", "HO", "LM", "MM", "HM", "Ref"))
chl.basic.avg <- ddply(chl.basic, c("Season", "Site", "CoreName"), summarise,
avg.chl = mean(chla_conc),
N = length(chla_conc),
stdev = sd(chla_conc),
SE = stdev / sqrt(N))
View(chl.basic.avg)
str(chl.all.avg)
p1 <- ggplot(chl.all.avg, aes(Season, avg.chl))
p1 + geom_bar(stat = "identity", position = dodge) +
facet_grid(. ~ Site)
p1 <- ggplot(chl.all.avg, aes(Season, avg.chl))
p1 + geom_bar(stat = "identity", position = "dodge") +
facet_grid(. ~ Site)
?position.dodge
?position
?geom_errorbar
chl.all.avgs %>%
filter(Site == "IMS") %>%
ggplot(aes(Season, avg.chl, colour = CoreName)) +
geom_bar(stat = "identity", position = position.dodge(0.9)) +
geom_errorbar(ymin = avg.chl - SE, ymax = avg.chl + SE)
chl.all.avg %>%
filter(Site == "IMS") %>%
ggplot(aes(Season, avg.chl, colour = CoreName)) +
geom_bar(stat = "identity", position = position.dodge(0.9)) +
geom_errorbar(ymin = avg.chl - SE, ymax = avg.chl + SE)
chl.all.avg %>%
filter(Site == "IMS") %>%
ggplot(aes(Season, avg.chl, colour = CoreName)) +
geom_bar(stat = "identity", position_dodge(width = 0.9)) +
geom_errorbar(aes(ymin = avg.chl - SE, ymax = avg.chl + SE), width = 0.2)
chl.all.avg %>%
filter(Site == "IMS") %>%
ggplot(aes(Season, avg.chl), colour = CoreName) +
geom_bar(stat = "identity", position_dodge(width = 0.9)) +
geom_errorbar(aes(ymin = avg.chl - SE, ymax = avg.chl + SE), width = 0.2)
chl.all.avg %>%
filter(Site == "IMS") %>%
ggplot(aes(Season, avg.chl, fill = CoreName)) +
geom_bar(stat = "identity", position_dodge(width = 0.9)) +
geom_errorbar(aes(ymin = avg.chl - SE, ymax = avg.chl + SE), position = "dodge", width = 0.2)
chl.all.avg %>%
filter(Site == "IMS") %>%
ggplot() +
geom_bar(aes(Season, avg.chl, fill = CoreName), stat = "identity", position_dodge(width = 0.9)) +
geom_errorbar(aes(ymin = avg.chl - SE, ymax = avg.chl + SE), position = "dodge", width = 0.2)
chl.all.avg %>%
filter(Site == "IMS") %>%
ggplot(aes(Season, avg.chl, fill = CoreName)) +
geom_bar(stat = "identity", position_dodge(width = 0.9)) +
geom_errorbar(aes(ymin = avg.chl - SE, ymax = avg.chl + SE), position = "dodge", width = 0.2)
chl.all.avg %>%
filter(Site == "IMS") %>%
ggplot(aes(Season, avg.chl, fill = CoreName))
chl.all.avg %>%
filter(Site == "IMS") %>%
ggplot(aes(Season, avg.chl, fill = CoreName)) +
geom_bar(stat = "identity", position_dodge(width = 0.9))
chl.all.avg %>%
filter(Site == "IMS") %>%
ggplot(aes(Season, avg.chl, fill = CoreName)) +
geom_bar(stat = "identity", position_dodge(width = 0.9)) +
geom_errorbar(aes(ymin = avg.chl - SE, ymax = avg.chl + SE), position = "dodge", width = 0.2)
chl.all.avg %>%
filter(Site == "IMS") %>%
ggplot(aes(Season, avg.chl)) +
geom_bar(aes(fill = CoreName), stat = "identity", position_dodge(width = 0.9)) +
geom_errorbar(aes(ymin = avg.chl - SE, ymax = avg.chl + SE), position = "dodge", width = 0.2)
?position_dodge
chl.all.avg %>%
filter(Site == "IMS") %>%
ggplot(aes(Season, avg.chl)) +
geom_bar(aes(fill = CoreName), stat = "identity", position = position_dodge(width = 0.9)) +
geom_errorbar(aes(ymin = avg.chl - SE, ymax = avg.chl + SE), position = "dodge", width = 0.2)
chl.all.avg %>%
filter(Site == "IMS") %>%
ggplot(aes(Season, avg.chl)) +
geom_bar(aes(fill = CoreName), stat = "identity", position = position_dodge(width = 0.9)) +
geom_errorbar(aes(ymin = avg.chl - SE, ymax = avg.chl + SE),
position = position_dodge(width = 0.9), width = 0.2)
chl.all.avg %>%
filter(Site == "IMS") %>%
ggplot(aes(Season, avg.chl)) +
geom_bar(aes(fill = CoreName), stat = "identity", position = "dodge") +
geom_errorbar(aes(ymin = avg.chl - SE, ymax = avg.chl + SE),
position = position_dodge(width = 0.9), width = 0.2)
chl.all.avg %>%
filter(Site == "IMS") %>%
ggplot(aes(Season, avg.chl)) +
geom_bar(aes(fill = CoreName), stat = "identity", position = "dodge") +
geom_errorbar(aes(ymin = avg.chl - SE, ymax = avg.chl + SE),
position = position_dodge(width = 0.9), width = 0.3)
chl.all.avg %>%
filter(Season = "Summer") %>%
ggplot(aes(Site, avg.chl)) +
geom_bar(aes(fill = CoreName), stat = "identity", position = "dodge") +
geom_errorbar(aes(ymin = avg.chl - SE, ymax = avg.chl + SE),
position = position_dodge(width = 0.9), width = 0.3)
chl.all.avg %>%
filter(Season == "Summer") %>%
ggplot(aes(Site, avg.chl)) +
geom_bar(aes(fill = CoreName), stat = "identity", position = "dodge") +
geom_errorbar(aes(ymin = avg.chl - SE, ymax = avg.chl + SE),
position = position_dodge(width = 0.9), width = 0.3)
chl.all.avg %>%
filter(Season == "Summer") %>%
ggplot(aes(Site, avg.chl)) +
geom_bar(aes(fill = CoreName), stat = "identity", position = "dodge")
chl.all.avg %>%
filter(Season == "Fall") %>%
ggplot(aes(Site, avg.chl)) +
geom_bar(aes(fill = CoreName), stat = "identity", position = "dodge")
p1 <- ggplot(chl.all.avg, aes(Site, avg.chl))
p1 + geom_bar(fun.y = mean, stat = "identity", position = "dodge")
p1 <- ggplot(chl.all.avg, aes(Site, avg.chl))
p1 + stat_summary(fun.y = mean, stat = "identity", position = "dodge")
p1 + stat_summary(fun.y = mean, geom = "bar", position = "dodge")
p1 <- ggplot(chl.all.avg, aes(CoreName, avg.chl))
p1 + stat_summary(fun.y = mean, geom = "bar", position = "dodge")
p1 + stat_summary(fun.y = mean, geom = "bar", position = "dodge", fill = "Site")
p1 + stat_summary(fun.y = mean, geom = "bar", position = "dodge", fill = Site)
p1 <- ggplot(chl.all.avg, aes(CoreName, avg.chl, fill = Site))
p1 + stat_summary(fun.y = mean, geom = "bar", position = "dodge")
?stat_summary
p1 <- ggplot(chl.all.avg, aes(CoreName, avg.chl, fill = Site))
p1 + stat_summary(fun.y = mean, geom = "bar", position = "dodge") +
stat_summary(fun.y = median, geom = "point", colour = "purple")
p1 <- ggplot(chl.all.avg, aes(CoreName, avg.chl, fill = Site))
p1 + stat_summary(fun.y = mean, geom = "bar", position = "dodge") +
stat_summary(fun.y = median, geom = "point", colour = "purple", position = "dodge")
p1 <- ggplot(chl.all.avg, aes(CoreName, avg.chl, fill = Site))
p1 + stat_summary(fun.y = mean, geom = "bar", position = "dodge") +
stat_summary(fun.y = median, geom = "point", colour = "purple", position = position_dodge(width = 0.9))
p1 <- ggplot(chl.all.avg, aes(CoreName, avg.chl, fill = Site))
p1 + stat_summary(fun.y = mean, geom = "bar", position = "dodge") +
stat_summary(fun.y = median, geom = "point", colour = "black", position = position_dodge(width = 0.9))
p1 + stat_summary(fun.y = mean, geom = "boxplot", position = "dodge")
p1 + stat_summary(fun.y = mean, geom = "boxplot", position = "dodge",
lower = avg.chl - SE, upper = avg.chl + SE, middle = median)
p1 + stat_summary(fun.y = mean, geom = "boxplot", position = "dodge",
lower = - SE, upper = + SE, middle = median)
p1 + geom_boxplot()
chl.all.avg %>%
filter(CoreName == "LO") %>%
ggplot(aes(Site, avg.chl)) +
geom_boxplot
chl.all.avg %>%
filter(CoreName == "LO") %>%
ggplot(aes(Site, avg.chl)) +
geom_boxplot()
chl.all.avg %>%
filter(CoreName == "HO") %>%
ggplot(aes(Site, avg.chl)) +
geom_boxplot()
chl.all.avg %>%
filter(CoreName == "LM") %>%
ggplot(aes(Site, avg.chl)) +
geom_boxplot()
chl.all.avg %>%
filter(CoreName == "MM") %>%
ggplot(aes(Site, avg.chl)) +
geom_boxplot()
chl.all.avg %>%
filter(CoreName == "HM") %>%
ggplot(aes(Site, avg.chl)) +
geom_boxplot()
chl.all.avg %>%
filter(CoreName == "Ref") %>%
ggplot(aes(Site, avg.chl)) +
geom_boxplot()
chl.all.avg %>%
filter(CoreName == "LoRef") %>%
ggplot(aes(Site, avg.chl)) +
geom_boxplot()
chl.all.avg %>%
filter(CoreName == "HiRef") %>%
ggplot(aes(Site, avg.chl)) +
geom_boxplot()
chl.all.avg %>%
filter(CoreName == "LM") %>%
ggplot(aes(Site, avg.chl)) +
geom_boxplot()
chl.all.avg %>%
filter(CoreName == "MM") %>%
ggplot(aes(Site, avg.chl)) +
geom_boxplot()
chl.all.avg %>%
filter(CoreName == "HM") %>%
ggplot(aes(Site, avg.chl)) +
geom_boxplot()
?shapiro.test
shapiro.test(chl.all)
shapiro.test(chl.all$chla_conc)
p1 <- ggplot(chl.all.avg, aes(CoreName, avg.chl, fill = Site))
p1 + stat_summary(fun.y = mean, geom = "bar", position = "dodge") +
stat_summary(fun.y = median, geom = "point", colour = "black", position = position_dodge(width = 0.9))
p1 + stat_summary(fun.y = mean, geom = "bar", position = "dodge") +
stat_summary(fun.y = median, geom = "point", colour = "black", position = position_dodge(width = 0.9)) +
facet_grid(Season ~ .)
chl.all.avg %>%
filter(Season == "Fall") %>%
ggplot(aes(Site, avg.chl)) +
geom_bar(aes(fill = CoreName), stat = "identity", position = "dodge") +
geom_errorbar(aes(ymin = avg.chl - SE, ymax = avg.chl + SE),
position = position_dodge(width = 0.9), width = 0.3)
chl.all.avg %>%
filter(Season == "Fall") %>%
ggplot(aes(Site, avg.chl)) +
geom_bar(aes(fill = CoreName), stat = "identity", position = "dodge")
chl.all.avg %>%
filter(Season == "Summer") %>%
ggplot(aes(Site, avg.chl)) +
geom_bar(aes(fill = CoreName), stat = "identity", position = "dodge")
chl.all.avg %>%
filter(Season == "Summer15") %>%
ggplot(aes(Site, avg.chl)) +
geom_bar(aes(fill = CoreName), stat = "identity", position = "dodge")
chl.all.avg %>%
filter(Season == "Winter") %>%
ggplot(aes(Site, avg.chl)) +
geom_bar(aes(fill = CoreName), stat = "identity", position = "dodge")
chl.all.avg %>%
filter(Season == "Spring") %>%
ggplot(aes(Site, avg.chl)) +
geom_bar(aes(fill = CoreName), stat = "identity", position = "dodge")
chl.all.avg %>%
ggplot(aes(Habitat, avg.chl, fill = Site)) +
stat_summary(fun.y = mean, geom = "bar", position = "dodge")
str(chl.all.avg)
str(chl.all)
chl.all %>%
ggplot(aes(Habitat, chla_conc, fill = Site)) +
stat_summary(fun.y = mean, geom = "bar", position = "dodge")
chl.all$Habitat <- factor(chl.all$Habitat, levels = c("oyster", "marsh", "Ref", "LoRef", "HiRef"))
str(chl.all)
chl.all %>%
ggplot(aes(Habitat, chla_conc, fill = Site)) +
stat_summary(fun.y = mean, geom = "bar", position = "dodge")
chl.all %>%
ggplot(aes(Habitat, chla_conc, fill = Season)) +
stat_summary(fun.y = mean, geom = "bar", position = "dodge")
chl.all %>%
ggplot(aes(Habitat, chla_conc, fill = CoreName)) +
stat_summary(fun.y = mean, geom = "bar", position = "dodge")
chl.basic %>%
ggplot(aes(Habitat, chla_conc, fill = CoreName)) +
stat_summary(fun.y = mean, geom = "bar", position = "dodge")
shapiro.test(chl.all$chla_conc)
?bartlett.test
str(chl.all)
bartlett.test(chla_conc ~ CoreName, data = chl.all)
bartlett.test(chla_conc ~ Habitat data = chl.all)
bartlett.test(chla_conc ~ Habitat, data = chl.all)
bartlett.test(chla_conc ~ Site, data = chl.all)
bartlett.test(chla_conc ~ Season, data = chl.all)
View(chl.all)
bartlett.test(chla_conc ~ CoreName, data = chl.all)
bartlett.test(chla_conc ~ CoreName, data = chl.basic)
bartlett.test(chla_conc ~ CoreName, data = chl.basic.avg)
bartlett.test(avg.chl ~ CoreName, data = chl.basic.avg)
View(chl.basic.avg)
bartlett.test(avg.chl ~ Site, data = chl.basic.avg)
View(chl.all)
bartlett.test(chla_conc ~ Site, data = chl.all)
bartlett.test(chla_conc ~ Season, data = chl.all)
View(chl.all)
bartlett.test(chla_conc ~ Habitat, data = chl.all)
bartlett.test(chla_conc ~ CoreName, data = chl.basic)
bartlett.test(chla_conc ~ Site, data = chl.basic)
bartlett.test(chla_conc ~ Season, data = chl.basic)
bartlett.test(chla_conc ~ Habitat, data = chl.basic)
leveneTest(chla_conc ~ CoreName, data = chl.all)
library(lmtest)
leveneTest(chla_conc ~ CoreName, data = chl.all)
library(car)
leveneTest(chla_conc ~ CoreName, data = chl.all)
?shapiro.test
test.norm.all.CoreName <- chl.all %>%
group_by(CoreName) %>%
summarise(SW.pvalue = shapiro.test(chl.all)$pvalue) %>%
mutate(Result == ifelse(SW.pvalue > 0.05, "Normal", "Non-Normal"))
test.norm.all.CoreName <- chl.all %>%
group_by(CoreName) %>%
summarise(SW.pvalue = shapiro.test(chla_conc)$pvalue) %>%
mutate(Result == ifelse(SW.pvalue > 0.05, "Normal", "Non-Normal"))
test.norm.all.CoreName <- chl.all %>%
group_by(CoreName) %>%
summarise(SW.pvalue = shapiro.test(chla_conc)$pvalue) %>%
mutate(Result = ifelse(SW.pvalue > 0.05, "Normal", "Non-Normal"))
test.norm.all.CoreName <- chl.all %>%
group_by(CoreName) %>%
summarise(SW.pvalue = shapiro.test(chla_conc)$pvalue) %>%
mutate(Result = ifelse(SW.pvalue > 0.05, "Normal", "Non-Normal"))
test.norm.all.CoreName <- chl.all %>%
group_by(CoreName) %>%
summarise(SW.pvalue = shapiro.test(chla_conc)$pvalue)
str(chl.all)
test.norm.all.CoreName <- chl.all %>%
group_by(CoreName) %>%
summarise(SW.pvalue = shapiro.test(chla_conc)$p.value) %>%
mutate(Result = ifelse(SW.pvalue > 0.05, "Normal", "Non-Normal"))
View(test.norm.all.CoreName)
test.norm.basic.CoreName <- chl.basic %>%
group_by(CoreName) %>%
summarise(SW.pvalue = shapiro.test(chla_conc)$p.value) %>%
mutate(Result = ifelse(SW.pvalue > 0.5), "Normal", "Non-Normal")
test.norm.basic.CoreName <- chl.basic %>%
group_by(CoreName) %>%
summarise(SW.pvalue = shapiro.test(chla_conc)$p.value) %>%
mutate(Result = ifelse(SW.pvalue > 0.5, "Normal", "Non-Normal"))
View(test.norm.basic.CoreName)
chl.all %>%
group_by(CoreName) %>%
ggplot(aes(chla_conc)) +
geom_histogram(stat = "bin", binwidth = 10)
chl.all %>%
ggplot(aes(chla_conc)) +
geom_histogram(stat = "bin", binwidth = 10)
chl.all %>%
ggplot(aes(chla_conc)) +
geom_histogram(stat = "bin", binwidth = 10, colour = Site)
chl.all %>%
ggplot(aes(chla_conc)) +
geom_histogram(aes(fill = CoreName), stat = "bin", binwidth = 10)
chl.all %>%
ggplot(aes(chla_conc)) +
geom_histogram(aes(fill = CoreName), stat = "bin", binwidth = 10) +
facet_grid(CoreName ~ .)
chl.basic %>%
ggplot(aes(chla_conc)) +
geom_histogram(stat = "bin", binwidth = 10) +
facet_grid(CoreName ~ .)
chl.all %>%
ggplot(aes(chla_conc)) +
geom_histogram(stat = "bin", binwidth = 10) +
facet_grid(Site ~ .)
chl.all %>%
ggplot(aes(chla_conc)) +
geom_histogram(stat = "bin", binwidth = 10) +
facet_grid(Habitat ~ .)
chl.all %>%
ggplot(aes(chla_conc)) +
geom_histogram(stat = "bin", binwidth = 10) +
facet_grid(Season ~ .)
chl.basic %>%
ggplot(aes(chla_conc)) +
geom_histogram(stat = "bin", binwidth = 10) +
facet_grid(CoreName ~ .)
chl.all %>%
ggplot(aes(chla_conc)) +
geom_histogram(stat = "bin", binwidth = 10) +
facet_grid(Season ~ .)
chl.all %>%
ggplot(aes(chla_conc)) +
geom_histogram(stat = "bin", binwidth = 10) +
facet_grid(Habitat ~ .)
chl.all %>%
ggplot(aes(chla_conc)) +
geom_histogram(stat = "bin", binwidth = 10) +
facet_grid(CoreName ~ .)
chl.basic %>%
ggplot(aes(chla_conc)) +
geom_histogram(stat = "bin", binwidth = 10) +
facet_grid(CoreName ~ .)
chl.basic %>%
ggplot(aes(chl_phaeo_ratio)) +
geom_histogram(stat = "bin", binwidth = 10) +
facet_grid(CoreName ~ .)
chl.basic %>%
ggplot(aes(chl_phaeo_ratio)) +
geom_histogram(stat = "bin", binwidth = .1) +
facet_grid(CoreName ~ .)
chl.basic %>%
ggplot(aes(chl_phaeo_ratio)) +
geom_histogram(stat = "bin", binwidth = .1) +
facet_grid(Site ~ .)
chl.basic %>%
ggplot(aes(chl_phaeo_ratio)) +
geom_histogram(stat = "bin", binwidth = .1) +
facet_grid(Season ~ .)
chl.basic %>%
ggplot(aes(phaeo_conc)) +
geom_histogram(stat = "bin", binwidth = .1) +
facet_grid(Season ~ .)
chl.basic %>%
ggplot(aes(phaeo_conc)) +
geom_histogram(stat = "bin", binwidth = 10) +
facet_grid(Season ~ .)
chl.basic %>%
ggplot(aes(phaeo_conc)) +
geom_histogram(stat = "bin", binwidth = 10) +
facet_grid(CoreName ~ .)
chl.basic %>%
ggplot(aes(phaeo_conc)) +
geom_histogram(stat = "bin", binwidth = 10) +
facet_grid(Site ~ .)
View(chl.all)
chl.all %>%
ggplot(aes(chla_conc)) +
geom_histogram(stat = "bin", binwidth = 10) +
facet_grid(Season ~ .)
chl.all %>%
ggplot(aes(chla_conc)) +
geom_histogram(stat = "bin", binwidth = 10) +
facet_grid(Site ~ .)
library(plyr)
library(dplyr)
source("functions.R")
chl.raw <- read.csv("chlorophyll/raw/chla_all-seasons_all-sites.csv", header = T, stringsAsFactors = F)
chl.new <- set.factors(chl.raw)
BTO <- is.na(chl.new$CoreName)
chl.new <- chl.new[!BTO, ]
row.names(chl.new) <- NULL
high.ratio <- which(chl.new$chl_phaeo_ratio > 1.7)
chl.new[high.ratio, ]
chl.drop <- chl.new[-68, ]
row.names(chl.drop) <- NULL
low.ratio <- which(chl.drop$chl_phaeo_ratio < 1.2)
chl.drop[low.ratio, ]
View(chl.drop)
View(chl.drop)
chl.drop <- chl.drop[-88, ]
View(chl.drop)
chl.expanded <- add.age(chl.drop)
chl.expanded$Age <- factor(chl.expanded$Age, levels = c("0", "2", "7", "20"))
#Creating data frame that includes Ref, LoRef, & HiRef
chl.LoHiRef <- add.habitat(chl.expanded)
chl.LoHiRef$Habitat <- factor(chl.LoHiRef$Habitat,
levels = c("oyster", "marsh", "Ref", "LoRef", "HiRef"))
#Creating data frame without LoRef & HiRef
LoHiRef <- which(chl.expanded$CoreName == "LoRef" | chl.expanded$CoreName == "HiRef")
chl.noLoHi <- chl.expanded[-LoHiRef, ]
#Adding habitat column that uses "sandflat" instead of "Reference"
chl.sandflat <- add.sandflat(chl.noLoHi)
chl.sandflat$Habitat <- factor(chl.sandflat$Habitat, levels = c("oyster", "marsh", "sandflat"))
write.csv(chl.LoHiRef, "chlorophyll\\clean\\chl-clean-orig-habitats_all-seasons_all-sites.csv",
row.names = F)
write.csv(chl.sandflat, "chlorophyll\\clean\\chl-clean-noLoHi_all-seasons_all-sites.csv", row.names = F)
View(chl.LoHiRef)
View(chl.sandflat)
