setwd("E:/R Markdown")
library("plyr")
library("dplyr")
source("functions.R")
raw.N2O <- read.csv("N2O\\raw\\N2O-raw_no-summer15_all-sites.csv", header = T, stringsAsFactors = F)
raw.N2O <- na.omit(raw.N2O)
raw.noxide <- read.csv("N2O\\raw\\N2O-raw_no-summer15_all-sites.csv", header = T, stringsAsFactors = F)
raw.noxide <- na.omit(raw.noxide)
all.noxide <- na.omit(raw.noxide)
View(all.noxide)
all.noxide$Site <- factor(all.noxide$Site, levels = c("IMS", "Carrot", "NOAA", "Army"))
all.noxide$Season <- factor(all.noxide$Season, levels = c("Summer", "Fall", "Winter", "Spring"))
all.noxide$CoreName <- factor(all.noxide$CoreName, levels = c("LO", "HO", "LM", "MM", "HM", "Ref"))
all.noxide <- add.age(all.noxide)
all.noxide$Age <- as.numeric(all.noxide$Age)
all.noxide <- add.habitat(all.noxide)
View(all.noxide)
write.csv(all.noxide, "N2O\\clean\\N2O-by-core_all-seasons_all-sites.csv", row.names = F)
type.N2O <- ddply(all.noxide, c("Season", "Site", "CoreName"), summarise,
avg_N2O = mean(N2O_flux))
View(type.N2O)
View(raw.noxide)
all.noxide <- na.omit(all.noxide)
write.csv(all.noxide, "N2O\\clean\\N2O-by-core_all-seasons_all-sites.csv", row.names = F)
type.N2O <- ddply(all.noxide, c("Season", "Site", "CoreName"), summarise,
avg_N2O = mean(N2O_flux))
write.csv(type.N2O, "N2O\\clean\\N2O-by-type_all-seasons_all-sites.csv", row.names = F)
type.N2O <- ddply(all.noxide, c("Season", "Site", "CoreName"), summarise,
avg_N2OFlux = mean(N2O_flux))
write.csv(type.N2O, "N2O\\clean\\N2O-by-type_all-seasons_all-sites.csv", row.names = F)
annual.N2O <- ddply(type.N2O, c("Site", "CoreName"), summarise,
annual_N2OFlux = mean(avg_N2OFlux))
View(annual.N2O)
write.csv(annual.N2O, "N2O\\clean\\N2O-by-type_annual-avgs_all-sites.csv", row.names = F)
type.N2O <- read.csv("\\N2O\\clean\\N2O-by-type_all-seasons_all.sites.csv", header = T)
type.N2O <- read.csv("\\N2O\\clean\\N2O-by-type_all-seasons_all.sites.csv", headers = T)
setwd("E:/R Markdown")
type.N2O <- read.csv("\\N2O\\clean\\N2O-by-type_all-seasons_all.sites.csv", headers = T)
type.N2O <- read.csv("\\N2O\\clean\\N2O-by-type_all-seasons_all.sites.csv", header = T)
type.N2O <- read.csv("N2O\\clean\\N2O-by-type_all-seasons_all.sites.csv", header = T)
type.N2O <- read.csv("N2O\\clean\\N2O-by-type_all-seasons_all.sites.csv", header = T)
type.N2O <- read.csv("N2O\\clean\\N2O-by-type_all-seasons_all-sites.csv", header = T)
str(type.N2O)
library("plyr")
library("dplyr")
library("ggplot2")
library("ggpmisc")
source("functions.R")
View(type.N2O)
p1 <- ggplot(type.N2O, aes(avg_N2OFlux, Site))
p1 + geom_bar(colour = CoreName) + facet_grid(Season ~ .)
p1 + geom_bar(aes(colour = CoreName)) + facet_grid(Season ~ .)
p1 + geom_bar(aes(colour = CoreName), stat = "identity", position = "dodge")
+ facet_grid(Season ~ .)
type.N2O <- add.habitat(type.N2O)
type.N2O$Habitat <- factor(type.N2O$Habitat, levels = c("oyster", "marsh", "Ref"))
p1 <- ggplot(type.N2O, aes(Site, avg_N2OFlux))
p1 + geom_bar(stat = "identity", position = "dodge")
+ facet_grid(Season ~ .)
p1 + geom_bar(stat = "identity", position = "dodge")
p1 + geom_bar(aes(colour = Habitat), stat = "identity", position = "dodge")
p1 + geom_bar(aes(fill = Habitat), stat = "identity", position = "dodge")
facet_grid(. ~ Season)
p1 + geom_bar(aes(fill = Habitat), stat = "identity", position = "dodge") +
facet_grid(. ~ Season)
str(type.N2O)
View(set.factors)
set.factors.basic(type.N2O)
str(type.N2O)
type.N2O <- set.factors.basic(type.N2O)
str(type.N2O)
p1 <- ggplot(type.N2O, aes(Site, avg_N2OFlux))
p1 + geom_bar(aes(fill = Habitat), stat = "identity", position = "dodge") +
facet_grid(. ~ Season)
type.N2O %>%
group_by(Habitat) %>%
ggplot(aes(Site, avg_N2OFlux)) +
geom_bar(aes(fill = Habitat), stat = "identity", position = "dodge") +
facet_grid(. ~ Season)
type.N2O %>%
group_by(Habitat) %>%
ggplot(aes(Site, avg_N2OFlux, fill = Habitat)) +
stat_summary(fun.y = mean, geom = "bar", position = "dodge") +
stat_summary(aes(label = round(..y.., 2)), fun.y = mean, geom = "text", size = 3) +
facet_grid(Season ~ .)
type.N2O %>%
group_by(Habitat) %>%
ggplot(aes(Site, avg_N2OFlux, fill = Habitat)) +
stat_summary(fun.y = mean, geom = "bar", position = "dodge") +
stat_summary(aes(label = round(..y.., 2)), fun.y = mean, geom = "text", size = 3) +
facet_grid(. ~ Season)
